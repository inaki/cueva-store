<div class="flex">

  <!-- Left Column: Product Details -->
  <div
    class="w-1/2 pl-8 flex-shrink-0 flex-grow-0">
    <h1>{{ product.title }}</h1>
    <form
      action="/cart/add"
      method="post"
      enctype="multipart/form-data"
      id="AddToCartForm">
      <select
        name="id"
        id="productSelect"
        class="mb-4">
        {% for variant in product.variants %}
          {% if variant.available %}
            <option
              value="{{ variant.id }}">
              {{ variant.title }} - {{ variant.price | money_with_currency }}
            </option>
          {% else %}
            <option
              disabled="disabled">
              {{ variant.title }} - sold out
            </option>
          {% endif %}
        {% endfor %}
      </select>
      <div
        class="mb-4">{{ current_variant.price | money }}</div>
      <label
        for="Quantity"
        class="block mb-2">Quantity</label>
      <input
        type="number"
        id="Quantity"
        name="quantity"
        value="1"
        min="1"
        class="mb-4">
      <button
        type="submit"
        name="add"
        id="AddToCart"
        class="bg-blue-500 text-white px-4 py-2 rounded">Add to cart</button>
    </form>
    <div
      class="mt-8">{{ product.description }}</div>
  </div>

  <!-- Right Column: Product Images -->
  <div class="w-1/2 flex-shrink-0 flex-grow-0 relative">
    <!-- Swiper Container with a max-width -->
    <div
      class="swiper-container max-w-full overflow-hidden relative">
      <div class="swiper-wrapper">

        <!-- Featured Product Image -->
        <div
          class="swiper-slide">
          <img
            src="{{ featured_image | img_url: 'large' }}"
            alt="{{ featured_image.alt | escape }}"
            class="w-full">
        </div>

        <!-- Additional Product Images -->
        {% for image in product.images %}
          <div
            class="swiper-slide">
            <img
              src="{{ image.src | img_url: 'large' }}"
              alt="{{ image.alt | escape }}"
              class="w-full">
          </div>
        {% endfor %}

        <!-- Swiper Pagination -->
        <div
          class="swiper-pagination"></div>
      </div>

      <!-- Swiper Navigation -->
      <div
        class="swiper-button-next absolute top-1/2 right-0 transform -translate-y-1/2"></div>
      <div
        class="swiper-button-prev absolute top-1/2 left-0 transform -translate-y-1/2"></div>
    </div>
  </div>


</div>

<!-- Initialize Swiper -->
<script>
  var swiper = new Swiper('.swiper-container', {
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev'
    },
    pagination: {
      el: '.swiper-pagination',
      clickable: true
    }
  });
</script>